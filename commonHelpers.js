import{a as y}from"./assets/vendor-34f890c2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();async function p(o){const i="https://portfolio-js.b.goit.study/api/requests";try{return(await y.post(i,o)).data}catch(n){throw console.error("Error posting request:",n),n}}const d=document.querySelector(".form"),m=document.getElementById("email"),c=document.getElementById("comment");document.querySelector(".submit-btn");const r=document.querySelector(".modal-overlay"),a=document.querySelector(".modal-window"),f=document.querySelector(".modal-btn-close");c.addEventListener("input",()=>{const s=c.value;s.length>50&&(c.value=s.substring(0,50)+"...")});m.addEventListener("input",function(){const o=this.value;/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(o)?(this.classList.remove("input-error"),this.classList.add("input-success")):(this.classList.remove("input-success"),this.classList.add("input-error"))});d.addEventListener("submit",v);async function v(o){o.preventDefault();const s={email:m.value,comment:c.value};try{(await p(s)).title!==" "&&(r.style.opacity=1,r.style.visibility="visible",a.style.opacity=1,a.style.visibility="visible",d.reset())}catch(i){throw i}}f.addEventListener("click",u);function u(){r.style.opacity=0,r.style.visibility="hidden",a.style.opacity=0,a.style.visibility="hidden"}r.addEventListener("click",u);window.addEventListener("keydown",o=>{o.key==="Escape"&&u()});
//# sourceMappingURL=commonHelpers.js.map
