{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/work-together.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getReviews() {\n    const BASE_URL = 'https://portfolio-js.b.goit.study/api';\n    const url = `${BASE_URL}/reviews`; \n\n    try {\n        const apiReviewsData = await axios.get(url);\n        return apiReviewsData.data;\n    } catch (error) {\n        console.error('Error fetching reviews:', error);\n        throw error;  \n    }\n}\n\nexport async function postRequest(req) {\n    const BASE_URL = 'https://portfolio-js.b.goit.study/api';\n    const url = `${BASE_URL}/requests`;  \n    try {\n        const apiRequestData= await axios.post(url, req);\n        return apiRequestData.data;\n    } catch (error) {\n        console.error('Error posting request:', error);\n        throw error;  \n    }\n}","import {postRequest} from './api';\n\nconst form = document.querySelector('.form');\nconst emailInput = document.getElementById('email');\nconst commentInput = document.getElementById('comment');\nconst submitButton = document.querySelector('.submit-btn');\nconst overlay = document.querySelector('.modal-overlay');\nconst modal = document.querySelector('.modal-window');\nconst closeButton = document.querySelector('.modal-btn-close');\n\n\n// -----------------inputs validation\n\nemailInput.addEventListener('input', function() {\n    const emailValue = this.value;\n    const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n    if (emailPattern.test(emailValue)) {\n        this.classList.remove('input-error');\n        this.classList.add('input-success');\n    } else {\n        this.classList.remove('input-success');\n        this.classList.add('input-error');\n    }\n    \n});\n\n// -----------------------modal\n\n\nform.addEventListener('submit', onBtnSubmit);\n\n\nasync function onBtnSubmit(e) {\n    e.preventDefault(); \n    const data = {\n        email: emailInput.value,\n        comment: commentInput.value\n    };\n    try {\n        const response = await postRequest(data);\n        if (response.title !== \" \") {\n            overlay.style.opacity = 1;\n            overlay.style.visibility = \"visible\";\n            modal.style.opacity = 1;\n            modal.style.visibility = \"visible\";\n            form.reset();\n        }        \n    } catch (error) {\n        throw error;\n    }\n}\n\ncloseButton.addEventListener('click', onButtonClose);\n\nfunction onButtonClose() {\n     overlay.style.opacity = 0;\n    overlay.style.visibility = \"hidden\";\n    modal.style.opacity = 0;\n    modal.style.visibility = \"hidden\";\n}\noverlay.addEventListener('click', onButtonClose);\nwindow.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n        onButtonClose();\n    }\n})\n"],"names":["postRequest","req","url","axios","error","form","emailInput","commentInput","overlay","modal","closeButton","emailValue","onBtnSubmit","e","data","onButtonClose"],"mappings":"svBAeO,eAAeA,EAAYC,EAAK,CAEnC,MAAMC,EAAM,iDACZ,GAAI,CAEA,OADsB,MAAMC,EAAM,KAAKD,EAAKD,CAAG,GACzB,IACzB,OAAQG,EAAO,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACT,CACL,CCvBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,eAAe,OAAO,EAC5CC,EAAe,SAAS,eAAe,SAAS,EACjC,SAAS,cAAc,aAAa,EACzD,MAAMC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAc,SAAS,cAAc,kBAAkB,EAK7DJ,EAAW,iBAAiB,QAAS,UAAW,CAC5C,MAAMK,EAAa,KAAK,MACH,2CAEJ,KAAKA,CAAU,GAC5B,KAAK,UAAU,OAAO,aAAa,EACnC,KAAK,UAAU,IAAI,eAAe,IAElC,KAAK,UAAU,OAAO,eAAe,EACrC,KAAK,UAAU,IAAI,aAAa,EAGxC,CAAC,EAKDN,EAAK,iBAAiB,SAAUO,CAAW,EAG3C,eAAeA,EAAYC,EAAG,CAC1BA,EAAE,eAAc,EAChB,MAAMC,EAAO,CACT,MAAOR,EAAW,MAClB,QAASC,EAAa,KAC9B,EACI,GAAI,EACiB,MAAMP,EAAYc,CAAI,GAC1B,QAAU,MACnBN,EAAQ,MAAM,QAAU,EACxBA,EAAQ,MAAM,WAAa,UAC3BC,EAAM,MAAM,QAAU,EACtBA,EAAM,MAAM,WAAa,UACzBJ,EAAK,MAAK,EAEjB,OAAQD,EAAO,CACZ,MAAMA,CACT,CACL,CAEAM,EAAY,iBAAiB,QAASK,CAAa,EAEnD,SAASA,GAAgB,CACpBP,EAAQ,MAAM,QAAU,EACzBA,EAAQ,MAAM,WAAa,SAC3BC,EAAM,MAAM,QAAU,EACtBA,EAAM,MAAM,WAAa,QAC7B,CACAD,EAAQ,iBAAiB,QAASO,CAAa,EAC/C,OAAO,iBAAiB,UAAYF,GAAM,CAClCA,EAAE,MAAQ,UACVE,GAER,CAAC"}